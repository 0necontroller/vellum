<!DOCTYPE html>
<html>
  <head>
    <title>Vellum Video Processor</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest" defer></script>
    <script
      src="https://cdn.jsdelivr.net/npm/tus-js-client@latest/dist/tus.min.js"
      defer
    ></script>
    <script src="script.js" defer></script>
  </head>
  <body>
    <div class="container">
      <h1>Vellum Video Processor</h1>

      <!-- TUS Upload Section -->
      <div class="upload-section">
        <h2>Upload Video (TUS Protocol)</h2>
        <form id="tus-upload-form">
          <label for="tus-video-upload" class="file-upload-label"
            >Choose a video file</label
          >
          <div class="file-name" id="tus-file-name-display">No file chosen</div>
          <input
            type="file"
            name="video"
            id="tus-video-upload"
            accept="video/*"
            required
          />

          <div class="callback-url">
            <label for="callback-url">Webhook Callback URL (Optional):</label>
            <input
              type="url"
              id="callback-url"
              placeholder="https://yourapp.com/webhook"
            />
          </div>

          <div class="packager-selection">
            <label>Video Packager:</label>
            <div class="radio-group">
              <label>
                <input
                  type="radio"
                  name="tus-packager"
                  value="ffmpeg"
                  checked
                />
                FFmpeg (Recommended)
              </label>
            </div>
          </div>

          <div id="tus-upload-progress-container" style="display: none">
            <div class="progress-bar-container">
              <div class="progress-bar" id="tus-upload-progress-bar"></div>
            </div>
            <div class="progress-text" id="tus-upload-progress-text">0%</div>
            <div class="upload-status" id="tus-upload-status">Preparing...</div>
          </div>

          <button type="submit">Upload Video (TUS)</button>
        </form>
      </div>
      <h2>Uploaded Videos</h2>
      <div id="videos">
        <!-- videos injected via script -->
      </div>
    </div>
  </body>
</html>
